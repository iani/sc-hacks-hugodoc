<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.25" />
    <meta name="description" content="Documentation for a SuperCollider Library">
<meta name="author" content="Ioannis Zannos">

    <title>Notification :: sc-hacks documentation</title>
    <link rel="shortcut icon" href="https://iani.github.io/sc-hacks-hugodoc/images/favicon.png" type="image/x-icon" />
    <link href="https://iani.github.io/sc-hacks-hugodoc/css/nucleus.css" rel="stylesheet">
    <link href="https://iani.github.io/sc-hacks-hugodoc/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://iani.github.io/sc-hacks-hugodoc/css/hybrid.css" rel="stylesheet">
    <link href="https://iani.github.io/sc-hacks-hugodoc/css/featherlight.min.css" rel="stylesheet">
    <link href="https://iani.github.io/sc-hacks-hugodoc/css/horsey.css" rel="stylesheet">
    <link href="https://iani.github.io/sc-hacks-hugodoc/css/theme.css" rel="stylesheet">
    <link rel="stylesheet" href="https://iani.github.io/sc-hacks-hugodoc/css/bootstrap.min.css">
    <script src="https://iani.github.io/sc-hacks-hugodoc/js/jquery-2.x.min.js"></script>
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>

    

    

  </head>
  <body class="" data-url="/basic_classes/030-notification/">
    <nav id="sidebar" class="">
  <div id="header-wrapper">
    <div id="header">
       
	<p>sc-hacks Documentation</p>
 


    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>
<script type="text/javascript" src="https://iani.github.io/sc-hacks-hugodoc/js/lunr.min.js"></script>
<script type="text/javascript" src="https://iani.github.io/sc-hacks-hugodoc/js/horsey.js"></script>
<script type="text/javascript">
    var baseurl = "https:\/\/iani.github.io\/sc-hacks-hugodoc";
</script>
<script type="text/javascript" src="https://iani.github.io/sc-hacks-hugodoc/js/search.js"></script>

    
  </div>





<div class="highlightable">
    <ul class="topics">
        
        
            <li data-nav-id="/" class="dd-item">
            <a href="https://iani.github.io/sc-hacks-hugodoc/"><i class="fa fa-fw fa-home"></i></a>
            </li>
        

        




<li data-nav-id="/introduction/" class="dd-item 



">
  <a href="https://iani.github.io/sc-hacks-hugodoc/introduction/">
    <span>Introduction</span>

    
    <i class="fa fa-angle-right fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/introduction/002-anti-mythology/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/introduction/002-anti-mythology/">
            <span>Anti-Mythology</span> 
            

            </a></li>
         
        
        




    </ul>
</li>


<li data-nav-id="/main/" class="dd-item 



">
  <a href="https://iani.github.io/sc-hacks-hugodoc/main/">
    <span>Operators and Language Design</span>

    
    <i class="fa fa-angle-right fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/main/004-operator-overview/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/main/004-operator-overview/">
            <span>Operator Overview</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/main/005-mini-language-overview/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/main/005-mini-language-overview/">
            <span>Mini-Language Overview</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/main/006-improving_eplay/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/main/006-improving_eplay/">
            <span>Improving Function:eplay</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/main/007-function-eplay/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/main/007-function-eplay/">
            <span>Play a function in the environment</span> 
            

            </a></li>
         
        
        




    </ul>
</li>


<li data-nav-id="/patterns/" class="dd-item 



">
  <a href="https://iani.github.io/sc-hacks-hugodoc/patterns/">
    <span>Patterns</span>

    
    <i class="fa fa-angle-right fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/patterns/009-playing-events-as-patterns/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/patterns/009-playing-events-as-patterns/">
            <span>Playing Events as Patterns</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/patterns/010-events-as-patterns/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/patterns/010-events-as-patterns/">
            <span>Playing Events as Patterns</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/patterns/011-event-stream/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/patterns/011-event-stream/">
            <span>Modify Patterns while playing</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/patterns/012-event-eplay/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/patterns/012-event-eplay/">
            <span>Patterns updating current environment</span> 
            

            </a></li>
         
        
        




    </ul>
</li>


<li data-nav-id="/gui/" class="dd-item 



">
  <a href="https://iani.github.io/sc-hacks-hugodoc/gui/">
    <span>GUI</span>

    
    <i class="fa fa-angle-right fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/gui/014-creating-guis/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/gui/014-creating-guis/">
            <span>Creating GUIs</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/gui/015-building-guis/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/gui/015-building-guis/">
            <span>Building GUIs</span> 
            

            </a></li>
         
        
        




    </ul>
</li>


<li data-nav-id="/buffers_and_grains/" class="dd-item 



">
  <a href="https://iani.github.io/sc-hacks-hugodoc/buffers_and_grains/">
    <span>Playing buffers and grains</span>

    
    <i class="fa fa-angle-right fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/buffers_and_grains/017-triggering-methods/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/buffers_and_grains/017-triggering-methods/">
            <span>Triggering Methods</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/buffers_and_grains/018-triggering-envgen/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/buffers_and_grains/018-triggering-envgen/">
            <span>Triggering EnvGen and Line</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/buffers_and_grains/019-playing-grains/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/buffers_and_grains/019-playing-grains/">
            <span>Playing Grains</span> 
            

            </a></li>
         
        
        




    </ul>
</li>


<li data-nav-id="/data/" class="dd-item 



">
  <a href="https://iani.github.io/sc-hacks-hugodoc/data/">
    <span>Playing with data</span>

    
    <i class="fa fa-angle-right fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/data/021-playing-with-data/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/data/021-playing-with-data/">
            <span>Playing With Data</span> 
            

            </a></li>
         
        
        




    </ul>
</li>


<li data-nav-id="/server_objects/" class="dd-item 



">
  <a href="https://iani.github.io/sc-hacks-hugodoc/server_objects/">
    <span>Server objects</span>

    
    <i class="fa fa-angle-right fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/server_objects/023-about-server-objects/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/server_objects/023-about-server-objects/">
            <span>About Server Objects</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/server_objects/024-server-and-nevent/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/server_objects/024-server-and-nevent/">
            <span>Server and Nevent</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/server_objects/025-target-group/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/server_objects/025-target-group/">
            <span>Target Group</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/server_objects/026-busses/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/server_objects/026-busses/">
            <span>Busses</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/server_objects/027-buffers/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/server_objects/027-buffers/">
            <span>Buffers</span> 
            

            </a></li>
         
        
        




    </ul>
</li>


<li data-nav-id="/basic_classes/" class="dd-item 
parent


">
  <a href="https://iani.github.io/sc-hacks-hugodoc/basic_classes/">
    <span>Basic Classes</span>

    
    <i class="fa fa-angle-down fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/basic_classes/029-registry/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/basic_classes/029-registry/">
            <span>Registry: Hierarchical Namespaces</span> 
            

            </a></li>
         
        
         
          <li data-nav-id="/basic_classes/030-notification/" class="dd-item
         active
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/basic_classes/030-notification/">
            <span>Notification</span> 
            

            </a></li>
         
        
        




    </ul>
</li>


<li data-nav-id="/use_examples/" class="dd-item 



">
  <a href="https://iani.github.io/sc-hacks-hugodoc/use_examples/">
    <span>Use examples</span>

    
    <i class="fa fa-angle-right fa-lg category-icon"></i>
    
    
    
  </a>
    <ul>
        
         
          <li data-nav-id="/use_examples/032-pattern-synth-play/" class="dd-item
         
          ">
            <a href="https://iani.github.io/sc-hacks-hugodoc/use_examples/032-pattern-synth-play/">
            <span>Pattern and Synth play scenarios</span> 
            

            </a></li>
         
        
        




    </ul>
</li>



        
    </ul>
    
     
    <section id="footer">
      
    </section>
  </div>
</nav>



        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
        
          <div id="top-bar">
            

            <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                <span id="sidebar-toggle-span">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                  </a>
                </span>
                <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                <span class="links">
                







 <a href='https://iani.github.io/sc-hacks-hugodoc/'>Main</a> > <a href='https://iani.github.io/sc-hacks-hugodoc/basic_classes/'>Basic Classes</a> > Notification

 

 

   
                </span>
            </div>
            <div class="progress">
    <div class="wrapper">

    </div>
</div>

          </div>
        
        
        <div id="body-inner">
          
            <h1>Notification</h1>
          




<p>Notification: Register a function callback to a message and a pair of objects
=Notification= is an improved version of the <a href="http://doc.sccode.org/Classes/NotificationCenter.html" title="NotificationCenter class">NotificationCenter class</a>.  This class enables objects to register a function which is called when another object changes according to some aspect.  The aspect is expressed by a symbol.  To trigger a notification action, one sends the message <code>changed</code> to an object together with a symbol expressing the aspect which changed.  The function will only be evaluated for those objects which have registered to listen to the changing object according to the given aspect symbol.  This allows detailed control of callback execution amongst objects of the system.  For example, one can tell a gui object to change its color to green when a synth starts, and to change its color to red when that synth stops.</p>

<ul>
=Notification= adds the following enhancements: 
<li>Ability to remove existing notification connections reliably.</li>
<li>Several methods for easily adding or modifying connections between objects.</li>
<li>Ability to remove all connections from an object with a single message, <code>objectClosed</code>, and also to execute additional actions when that object closes.  Closing here means that the object is freed and will no longer be used by the system.</li>
</ul>

<h1 id="examples">Examples</h1>

<h2 id="onobjectclosed"><code>onObjectClosed</code></h2>

<p><code>Registry</code> uses <code>onObjectClosed</code> to remove objects by sending them that message:</p>

<pre><code class="language-sclang">
   *new { | ... pathAndFunc |
		var path, makeFunc, instance;
		makeFunc = pathAndFunc.last;
		path = pathAndFunc[0..pathAndFunc.size-2];
		instance = Library.global.atPath(path);
		if (instance.isNil) {
			instance = makeFunc.value;
			Library.global.putAtPath(path, instance);
			instance.onObjectClosed(this, {
				this.remove(*path)
			});
		};
		^instance;
  }
</code></pre>

<h2 id="addnotifieroneshot"><code>addNotifierOneShot</code></h2>

<p>This is in turn used by <code>oscFunc</code> and <code>rout</code> methods for removing <code>OSCFunc</code> and <code>Routine</code> objects in order to replace them with new instances.</p>

<p>The <code>addNotifierOneShot</code> method executes the registered Function just once. This is useful when it is clear that only one call is required. For example, the <code>onEnd</code> and <code>onStart</code> methods for <code>Node</code> make use of the <code>addNotifierOneShot</code> method:</p>

<pre><code class="language-sclang">
+ Node {
	onStart { | listener, action |
		NodeWatcher.register(this);
		listener.addNotifierOneShot(this, \n_go, action);
	}

	onEnd { | listener, action |
		NodeWatcher.register(this);
		//		this.isPlaying = true; // dangerous
		listener.addNotifierOneShot(this, \n_end, action);
	}
}
</code></pre>

<p>Similar extensions can be built for whatever object needs to monitor the closing or end of an object such as closing of a Window or stopping of a Pattern.</p>


<footer class=" footline" >
	
</footer>



      </div>
    </div>

    
 
    

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                
                
                    
            
            
                
                    
                        
                        
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                
                    
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                
                    
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                
                    
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                
                    
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                
                    
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                
                    
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                
                    
            
            
                
                    
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                    
                
                
                
            
        
                    
                
                    
            
            
                
                    
                        
                        
                    
                
                
                
            
        
                    
                        
            
            
                
                    
                
                
                
            
        
                    
                
            
        
        
        


        
            <a class="nav nav-prev" href="https://iani.github.io/sc-hacks-hugodoc/basic_classes/029-registry/" title="Registry: Hierarchical Namespaces"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="https://iani.github.io/sc-hacks-hugodoc/use_examples/" title="Use examples" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://iani.github.io/sc-hacks-hugodoc/js/clipboard.min.js"></script>
    <script src="https://iani.github.io/sc-hacks-hugodoc/js/featherlight.min.js"></script>
    <script src="https://iani.github.io/sc-hacks-hugodoc/js/html5shiv-printshiv.min.js"></script>
    <script src="https://iani.github.io/sc-hacks-hugodoc/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://iani.github.io/sc-hacks-hugodoc/js/modernizr.custom.71422.js"></script>
    <script src="https://iani.github.io/sc-hacks-hugodoc/js/learn.js"></script>
    <script src="https://iani.github.io/sc-hacks-hugodoc/js/hugo-learn.js"></script>

    
    <link href="https://iani.github.io/sc-hacks-hugodoc/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="https://iani.github.io/sc-hacks-hugodoc/mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    

    

  </body>
</html>

